function gifLoader(el,options){this.container=$(el);var defaults={bgColor:"#F5F5F5",duration:800,opacity:0.7,classOveride:false,marginTop:0,top:0};this.options=jQuery.extend(defaults,options);this.queue=0;this.init=function(){if(this.queue===0){var container=this.container;this.remove(false);var overlay=$('<div id="loader"></div>').css({"background-color":this.options.bgColor,opacity:this.options.opacity,width:(container.width()+0),height:(container.height()+0),position:"relative",top:this.options.top,left:"0px","z-index":99999,"margin-top":this.options.marginTop}).addClass("gif_overlay");if(this.options.classOveride){overlay.addClass(this.options.classOveride);}container.html(overlay.html($("<div></div>").addClass("gif_loader")).fadeIn(this.options.duration));}this.queue++;};this.remove=function(count){if(typeof count==="undefined"){this.queue--;}var overlay=this.container.children(".gif_overlay");if(this.queue===0){if(overlay.length){overlay.fadeOut(this.options.classOveride,function(){overlay.remove();});}}};this.update_size=function(){var container=this.container;var loader=container.find("#loader");loader.css({width:(container.width()+0),height:(container.height()+0),"margin-top":(1-(container.height()+1))});};this.init();}